<!DOCTYPE html>
<html lang="en">

<head>
    <title>Spectraforge</title>
    <meta name="color-scheme" content="dark">
    <script src="{{ url_for('static', filename='js/packages/iro.js') }}"></script>
    <script src="static/js/main.js"></script>
    <link rel="icon" href="static/icons/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/tag_colors.css">
    <script>
        function updateBrightness(value) {
            // Update the brightness setting in the backend
            fetch('/api/settings/set_setting', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ brightness: value })
            });
        }

        function updatePerformanceMode(value) {
            // Update the performance mode setting in the backend
            fetch('/api/settings/set_setting', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ performance_mode: value })
            });
        }
    </script>
</head>

<body>
    <img src="static/icons/menu.svg" id="menu_icon" onclick="toggleMenu()">
    <div id="menu_container">
        {% include 'sidebar_menu.html' %}
    </div>
    <div id="effect_header">
        <h1>Settings</h1>
    </div>
    <div id="effects_container">
        <div class="setting">
            <label for="brightness">Brightness:</label>
            <input type="range" id="brightness" name="brightness" min="0" max="100" value="{{ brightness }}" oninput="updateBrightness(this.value)">
        </div>
        <div class="setting">
            <label for="performance_mode">Performance Mode:</label>
            <select id="performance_mode" name="performance_mode" onchange="updatePerformanceMode(this.value)">
                <option value="high" {% if performance_mode == 'high' %}selected{% endif %}>High</option>
                <option value="normal" {% if performance_mode == 'normal' %}selected{% endif %}>Normal</option>
                <option value="low" {% if performance_mode == 'low' %}selected{% endif %}>Low</option>
            </select>
        </div>
    </div>
</body>
</html>